function ShopwellLinkField(t){this.$el=t;let e=()=>{this.$el.on("click",'a[data-name="add"]',o),this.$el.on("click",'a[data-name="edit"]',o),this.$el.on("click",'a[data-name="remove"]',l),this.$el.on("change",".link-node",c),"undefined"!=typeof wpLink&&wpLink.init()},a=()=>this.$el,i=()=>this.$el.find(".link-node"),n=t=>{var e=i();return!!e.attr("href")&&{title:e.html(),url:e.attr("href"),target:e.attr("target")}},r=(t,e)=>{t=t||{title:"",url:"",target:""};var n=a(),r=i();n.removeClass("-value -external"),t.url&&n.addClass("-value"),"_blank"===t.target&&n.addClass("-external"),this.$el.find(".link-title").html(t.title);var o=t?.url?.length>25?t.url.substring(0,22)+"...":t.url;this.$el.find(".link-url").attr("href",t.url).html(o).attr("title",t.url),r.html(t.title),r.attr("href",t.url),r.attr("target",t.target),this.$el.find(".input-title").val(t.title),this.$el.find(".input-target").val(t.target),this.$el.find(".input-url").val(t.url).trigger("change")},o=t=>{t.preventDefault(),h()},l=t=>{t.preventDefault(),r(!1)},c=t=>{var e=n(t);r(e,t)},d=()=>{var t=i();return{title:t.html(),url:t.attr("href"),target:t.attr("target")}},s=t=>{var e=i();e.text(t.title),e.attr("href",t.url),e.attr("target",t.target),e.trigger("change")},u=()=>({title:jQuery("#wp-link-text").val(),url:jQuery("#wp-link-url").val(),target:jQuery("#wp-link-target").prop("checked")?"_blank":""}),p=t=>{jQuery("#wp-link-text").val(t.title),jQuery("#wp-link-url").val(t.url),jQuery("#wp-link-target").prop("checked","_blank"===t.target)},h=()=>{jQuery(document).on("wplink-open",f),jQuery(document).on("wplink-close",g);var t=jQuery('<textarea id="shopwell-link-textarea" style="display:none;"></textarea>');jQuery("#shopwell-link-textarea").length||jQuery("body").append(t);var e=d();wpLink.open("shopwell-link-textarea",e.url,e.title,null)},f=()=>{jQuery("#wp-link-wrap").addClass("has-text-field"),jQuery(document).one("click","#wp-link-submit",m);var t=d();p(t),t.url&&wpLinkL10n&&jQuery("#wp-link-submit").val(wpLinkL10n.update)},g=()=>{var t=jQuery("#wp-link-submit");if(t.is(":hover")||t.is(":focus")){var e=u();s(e)}jQuery(document).off("wplink-open"),jQuery(document).off("wplink-close"),jQuery("#shopwell-link-textarea").remove()},m=t=>{t.stopPropagation();var e=u();e.url&&s({title:e.title,url:e.url,target:e.target})};return{init:function(){e()}}}!function(t){t.deparam=function(e,a){var i={},n={true:!0,false:!1,null:null};return t.each(e.replace(/\+/g," ").split("&"),function(e,r){var o,l=r.split("="),c=decodeURIComponent(l[0]),d=i,s=0,u=c.split("]["),p=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[p])?(u[p]=u[p].replace(/\]$/,""),p=(u=u.shift().split("[").concat(u)).length-1):p=0,2===l.length){if(o=decodeURIComponent(l[1]),a&&(o=o&&!isNaN(o)?+o:"undefined"===o?void 0:void 0!==n[o]?n[o]:o),p)for(;s<=p;s++)d=d[c=""===u[s]?d.length:u[s]]=s<p?d[c]||(u[s+1]&&isNaN(u[s+1])?{}:[]):o;else t.isArray(i[c])?i[c].push(o):void 0!==i[c]?i[c]=[i[c],o]:i[c]=o}else c&&(i[c]=a?void 0:"")}),i}}(jQuery),function(t){function e(t){var e;return(t=t.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?parseInt(e=100*parseFloat(t.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2)):100}function a(t,e,a,n){var r,o,l;r=e.data("a8cIris"),o=e.data("wpWpColorPicker"),r._color._alpha=t,l=r._color.toString(),e.val(l),e.trigger("color_change"),o.toggler.css({"background-color":l}),n&&i(t,a),e.wpColorPicker("color",l)}function i(t,e){e.slider("value",t),e.find(".ui-slider-handle").text(t.toString())}"undefined"!=typeof Color&&(Color.prototype.toString=function(t){if("no-alpha"==t)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(6>e.length)for(var a=6-e.length-1;0<=a;a--)e="0"+e;return"#"+e}),t.fn.alphaColorPicker=function(){return this.each(function(){var n,r,o,l,c,d,s,u,p,h,f;(n=t(this)).wrap('<div class="alpha-color-picker-wrap"></div>'),o=n.attr("data-palette")||"true",l=n.attr("data-show-opacity")||"true",c=n.attr("data-default-color")||"",d=-1!==o.indexOf("|")?o.split("|"):"false"!=o,""==(r=n.val().replace(/\s+/g,""))&&(r=c),s={change:function(t,a){var i,r,o,l;i=n.attr("data-customize-setting-link"),c==(r=n.wpColorPicker("color"))&&(o=e(r),p.find(".ui-slider-handle").text(o)),void 0!==wp.customize&&wp.customize(i,function(t){t.set(r)}),(l=u.find(".transparency")).css("background-color",a.color.toString("no-alpha")),n.trigger("color_change")},clear:function(){var t=n.attr("data-customize-setting-link")||"";t&&""!==t&&void 0!==wp.customize&&wp.customize(t,function(t){t.set("")}),n.val(""),n.trigger("color_change")},palettes:d},n.wpColorPicker(s),u=n.parents(".wp-picker-container:first"),t('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(u.find(".wp-picker-holder")),p=u.find(".alpha-slider"),f={create:function(e,a){var i=t(this).slider("value");t(this).find(".ui-slider-handle").text(i),t(this).siblings(".transparency ").css("background-color",r)},value:h=e(r),range:"max",step:1,min:0,max:100,animate:300},p.slider(f),"true"==l&&p.find(".ui-slider-handle").addClass("show-opacity"),u.find(".min-click-zone").on("click",function(){a(0,n,p,!0)}),u.find(".max-click-zone").on("click",function(){a(100,n,p,!0)}),u.find(".iris-palette").on("click",function(){var a,r;i(r=e(a=t(this).css("background-color")),p),100!=r&&(a=a.replace(/[^,]+(?=\))/,(r/100).toFixed(2))),n.wpColorPicker("color",a)}),u.find(".button.wp-picker-default").on("click",function(){i(e(c),p)}),n.on("input",function(){var a;i(e(t(this).val()),p)}),p.slider().on("slide",function(e,i){a(parseFloat(i.value)/100,n,p,!1),t(this).find(".ui-slider-handle").text(i.value)})})}}(jQuery),function(t,e){t.controlConstructor["alpha-color"]=t.Control.extend({ready:function(){e(".alpha-color-control",this.container).alphaColorPicker({clear:function(t,e){}})}})}(wp.customize,jQuery),function(t,e){t.controlConstructor["shopwell-repeater"]=t.Control.extend({ready:function(){var t=this;setTimeout(function(){t._init()},2500)},eval:function(t,a,i){switch(i){case"not_in":if(a=a.split(","),0>e.inArray(t,a))return!0;return!1;case"in":if(a=a.split(","),-1<e.inArray(t,a))return!0;return!1;case"!=":return t!=a;case"<=":return t<=a;case"<":return t<a;case">=":return t>=a;case">":return t>a;case"==":case"=":return t==a}},compare:function(t,e,a){var i,n=!1;switch(e){case"===":n=t===a;break;case">":n=t>a;break;case"<":n=t<a;break;case"!=":n=t!=a;break;case"empty":i=_.clone(t),_.isObject(i)||_.isArray(i)?(_.each(i,function(t,e){_.isEmpty(t)&&delete i[e]}),n=!!_.isEmpty(i)):n=!!_.isNull(i)||""==i;break;case"not_empty":i=_.clone(t),(_.isObject(i)||_.isArray(i))&&_.each(i,function(t,e){_.isEmpty(t)&&delete i[e]}),n=!_.isEmpty(i);break;default:n=t==a}return n},multiple_compare:function(t,e){var a=this,i=!0;try{var n=t[0];if(i=!0,_.isString(n)){i=!1;var r,o=t[1],l=t[2];_.isUndefined(e[n])||(r=e[n],i=a.compare(r,o,l))}else _.isArray(n)&&(i=!0,_.each(t,function(t){var n=t[0],r=t[1],o=t[2],l=e[n];_.isUndefined(l)&&(l=""),a.compare(l,r,o)||(i=!1)}))}catch(c){i=!1}return i},conditionize:function(t){var a=this;if(!t.hasClass("conditionized")){t.addClass("conditionized");var i=e(".field--item",t);t.on("change condition_check","input, select, textarea",function(n){var r=e(".form",t),o=e("input, textarea, select",r).serialize();o=jQuery.deparam(o);var l={};_.isObject(o)&&_.each(o._items,function(t){l=t}),i.each(function(){var t=e(this),i=!0,n=t.attr("data-cond")||!1;!_.isUndefined(n)&&n&&(n=JSON.parse(n),(i=a.multiple_compare(n,l))?t.slideDown().removeClass("cond-hide").addClass("cond-show"):t.hide().addClass("cond-hide").removeClass("cond-show"))})}),e("input, select, textarea",t).eq(0).trigger("condition_check")}},remove_editor:function(t){},editor:function(t){},_init:function(){var t,a,i=this,n=i.params.fields;try{t="string"==typeof i.params.value?JSON.parse(i.params.value):i.params.value}catch(r){t={}}var o=0,l=i.params.limited_msg||"";isNaN(parseInt(i.params.max_item))||(o=parseInt(i.params.max_item)),i.params.changeable,i.container.on("click",".widget .widget-action, .widget .repeat-control-close, .widget-title",function(t){t.preventDefault();var a=e(this).closest(".widget");a.hasClass("explained")?e(".widget-inside",a).slideUp(200,"linear",function(){e(".widget-inside",a).removeClass("show").addClass("hide"),a.removeClass("explained")}):e(".widget-inside",a).slideDown(200,"linear",function(){e(".widget-inside",a).removeClass("hide").addClass("show"),a.addClass("explained")})}),i.container.on("click",".repeat-control-remove",function(t){t.preventDefault();var a=e(this).closest(".repeatable-customize-control");e("body").trigger("repeat-control-remove-item",[a]),i.remove_editor(a),a.remove(),i.rename(),i.updateValue(),i._check_max_item()}),i.getData=function(){var t=e(".form-data",i.container);return JSON.stringify(e("input, textarea, select",t).serialize())},i.updateValue=function(){var t=i.getData();i.setting.set(t)},i.update_value=function(){var t,a={};this.container.find("[data-option]").each(function(){"background-size"===(t=e(this).data("option"))||"background-attachment"===t?a[t]=e(this).is(":checked")?e(this).val():a[t]:a[t]=e(this).val()}),this.setting.set(a)},i.rename=function(){e(".list-repeatable li",i.container).each(function(t){var a=e(this);e("input, textarea, select",a).each(function(){var a=e(this),i=a.attr("data-repeat-name")||void 0;void 0!==i&&(i=i.replace(/__i__/g,t),a.attr("name",i))})})},i.autocorrect_range_input_number=function(t,e){var a=t,n=a.parent().find('input[type="range"]'),r=parseFloat(a.val()),o=parseFloat(n.find(".shopwell-reset-range").attr("data-reset_value")),l=parseFloat(a.attr("step")),c=parseFloat(a.attr("min")),d=parseFloat(a.attr("max"));clearTimeout(e),e=setTimeout(function(){if(isNaN(r)){a.val(o),n.val(o).trigger("change");return}1<=l&&0!=r%1&&(r=Math.round(r),a.val(r),n.val(r).trigger("change")),r>d&&(a.val(d),n.val(d).trigger("change")),r<c&&(a.val(c),n.val(c).trigger("change"))},e),n.val(r).trigger("change"),i.updateValue()},window._upload_shopwell||(window._upload_shopwell=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1})),window._upload_shopwell.on("close",function(){window._upload_shopwell.state().get("selection")}),window.media_current={},window.media_btn={},window._upload_shopwell.on("select",function(){var t,a,i=window._upload_shopwell.state().get("selection").first().toJSON();e(".image_id",window.media_current).val(i.id),a=i.url,e(".current",window.media_current).removeClass("hide").addClass("show"),e(".image_url",window.media_current).val(a),"image"==i.type&&(t='<img src="'+a+'" alt="">',e(".thumbnail-image",window.media_current).html(t)),e(".remove-button",window.media_current).show(),e(".image_id",window.media_current).trigger("change");try{window.media_btn.text(window.media_btn.attr("data-change-txt"))}catch(n){}}),i.handleMedia=function(t){e(".item-media",t).each(function(){var t=e(this);e(".remove-button",t).on("click",function(a){a.preventDefault(),e(".image_id, .image_url",t).val(""),e(".thumbnail-image",t).html(""),e(".current",t).removeClass("show").addClass("hide"),e(this).hide(),e(".upload-button",t).text(e(".upload-button",t).attr("data-add-txt")),e(".image_id",t).trigger("change")}),e(".upload-button, .attachment-media-view",t).on("click",function(a){a.preventDefault(),window.media_current=t,window.media_btn=e(this),window._upload_shopwell.open()})})},i.handleGradient=function(t){var a,i=this,n=i.setting.get();i.container.find(".popup-content"),e(".item-gradient",t).each(function(){var t=e(this);t.find(".shopwell-range-wrapper").each(function(){var t=e(this);t.rangeControl({id:i.params.id+"-"+t.data("option-id"),option:t.data("option-id"),value:n[t.data("options-id")],responsive:i.params.responsive,change:function(){i.update_value()}}),t.find("input.shopwell-range-input").on("change keyup",function(){i.autocorrect_range_input_number(e(this),1e3,a)}).on("focusout",function(){i.autocorrect_range_input_number(e(this),0,a)})}),t.on("change",'[data-option="background-type"], [data-option="gradient-type"]',function(){var a=e(this).attr("data-option");t.find('[data-dep-field="'+a+'"]').hide(),t.find('[data-dep-field="'+a+'"][data-dep-value="'+e(this).val()+'"]').show()}),t.find('[data-option="background-type"], [data-option="gradient-type"]').trigger("change"),t.on("change",".shopwell-select-wrapper",function(){i.update_value()})})},i.handleBackground=function(t){var a,i=this,n=i.setting.get(),r=i.container.find(".popup-content");e(".item-design-options",t).each(function(){var t=e(this);t.find(".shopwell-range-wrapper").each(function(){var t=e(this);t.rangeControl({id:i.params.id+"-"+t.data("option-id"),option:t.data("option-id"),value:n[t.data("options-id")],responsive:i.params.responsive,change:function(){i.update_value()}}),t.find("input.shopwell-range-input").on("change keyup",function(){i.autocorrect_range_input_number(e(this),1e3,a)}).on("focusout",function(){i.autocorrect_range_input_number(e(this),0,a)})}),t.on("change",'[data-option="background-type"], [data-option="gradient-type"]',function(){var a=e(this).attr("data-option");t.find('[data-dep-field="'+a+'"]').hide(),t.find('[data-dep-field="'+a+'"][data-dep-value="'+e(this).val()+'"]').show()}),t.find('[data-option="background-type"], [data-option="gradient-type"]').trigger("change"),t.on("change",".shopwell-select-wrapper",function(){i.update_value()}),t.find(".popup-link").on("click",function(){r.toggleClass("hidden"),e(this).toggleClass("active"),e(this).siblings(".reset-defaults").toggleClass("active"),e("body").on("click",o)});var o=function(a){e(a.target).closest(".customize-save-button-wrapper").length||t.has(e(a.target).closest(".popup-link")).length||t.has(e(a.target).closest(".popup-content")).length||r.hasClass("hidden")||e(a.target).closest(".reset-defaults").length||(r.addClass("hidden"),t.find(".popup-link").removeClass("active"),t.find(".reset-defaults").removeClass("active"),e("body").off("click",o))};t.find(".background-image-advanced").hide(),t.on("change",".background-repeat select",function(){i.update_value()}),t.on("change click",".background-size input",function(){i.update_value()}),t.on("change click",".background-attachment input",function(){i.update_value()}),t.on("click",".background-image-upload-button",function(a){e("body").off("click",o);var n=wp.media({multiple:!1,title:i.params.l10n.image.select_image,button:{text:i.params.l10n.image.use_image}}).open().on("select",function(){var a,r,l,c,d,s,u,p=n.state().get("selection").first().toJSON();a=_.isUndefined(p.sizes)?p.url:_.isUndefined(p.sizes.medium)?_.isUndefined(p.sizes.thumbnail)?_.isUndefined(p.sizes.full)?p.url:p.sizes.full.url:p.sizes.thumbnail.url:p.sizes.medium.url,r=p.url,l=p.id,c=p.width,d=p.height,""!==r&&(t.find(".background-image-advanced").show(),t.find(".advanced-settings").removeClass("hidden").addClass("up")),t.find('[data-option="background-image"]').val(r),t.find('[data-option="background-image-id"]').val(l),i.update_value(),s=t.find(".placeholder, .thumbnail"),u=t.find(".background-image-upload-remove-button"),s.length&&s.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+a+'" alt="" />'),u.length&&u.show(),setTimeout(function(){e("body").on("click",o)},100)});a.preventDefault()}),t.on("click",".background-image-upload-remove-button",function(e){var a,n;e.preventDefault(),t.find('[data-option="background-image"]').val(""),t.find('[data-option="background-image-id"]').val(""),i.update_value(),a=t.find(".placeholder, .thumbnail"),n=t.find(".background-image-upload-remove-button"),t.find(".background-image-advanced").hide(),t.find(".advanced-settings").addClass("hidden").removeClass("up"),a.length&&a.removeClass().addClass("placeholder").html(i.params.l10n.image.placeholder),n.length&&n.hide()}),t.on("click",".advanced-settings",function(a){e(this).toggleClass("up"),t.find(".background-image-advanced").toggle()}),t.on("click",".shopwell-spacing-linked",function(){var t=e(this);t.closest("ul").find(".spacing-input").removeClass("linked"),t.parent(".spacing-link-values").removeClass("unlinked")}),t.on("click",".shopwell-spacing-unlinked",function(){var t=e(this);t.closest("ul").find(".spacing-input").addClass("linked"),t.parent(".spacing-link-values").addClass("unlinked")}),t.on("input",".linked input",function(){var t=e(this).val();e(this).closest(".spacing-input").siblings(".linked").find("input").val(t).change()}),t.on("change input",".spacing-input input",function(){i.update_value()}),t.find(".reset-defaults").on("click",function(){var a,n;t.find("[data-option]").each(function(){"background-size"===(n=(a=e(this)).data("option"))||"background-attachment"===n?(a.prop("checked",!1),n in i.params.default&&i.params.default[n]===a.val()&&a.prop("checked",!0)):a.val(i.params.default[a.data("option")]).trigger("change")}),t.find(".background-image-upload-remove-button").click(),i.update_value()})})},i.linkPicker=function(t){if(item_link=t.find(".shopwell-field-link")){let e=new ShopwellLinkField(item_link);e.init()}},i.colorPicker=function(t){e(".c-color",t).wpColorPicker({change:function(t,e){i.updateValue()},clear:function(t,e){i.updateValue()}}),e(".c-coloralpha",t).each(function(){var t=e(this),a=t.val();t.removeAttr("value"),t.prop("value",a),t.alphaColorPicker({change:function(t,e){i.updateValue()},clear:function(t,e){i.updateValue()}})})},i.actions=function(t){if(i.params.live_title_id){t.attr("data-title-format")||t.attr("data-title-format",i.params.title_format);var a=t.attr("data-title-format")||"";if("shopwell_section_order_styling"===i.id&&"click"!==t.find("input.add_by").val()&&(a="[live_title]"),i.params.live_title_id&&0<e("[data-live-id='"+i.params.live_title_id+"']",t).length){var n="";""==(n=e("[data-live-id='"+i.params.live_title_id+"']",t).is(".select-one")?e("[data-live-id='"+i.params.live_title_id+"']",t).find("option:selected").eq(0).text():e("[data-live-id='"+i.params.live_title_id+"']",t).eq(0).val())&&(n=i.params.default_empty_title),""!==a&&(n=a.replace("[live_title]",n)),e(".widget-title .live-title",t).text(n),t.on("keyup change","[data-live-id='"+i.params.live_title_id+"']",function(){var a="",n=t.attr("data-title-format")||"";"shopwell_section_order_styling"===i.id&&"click"!==t.find("input.add_by").val()&&(n="[live_title]"),""==(a=e(this).is(".select-one")?e(this).find("option:selected").eq(0).text():e(this).val())&&(a=i.params.default_empty_title),""!==n&&(a=n.replace("[live_title]",a)),e(".widget-title .live-title",t).text(a)})}}},i._check_max_item=function(){if(e(".list-repeatable > li.repeatable-customize-control",i.container).length>=o){if(e(".repeatable-actions",i.container).hide(),0>=e(".limited-msg",i.container).length){if(""!==l){var t=e('<p class="limited-msg"/>');t.html(l),t.insertAfter(e(".repeatable-actions",i.container)),t.show()}}else e(".limited-msg",i.container).show()}else e(".repeatable-actions",i.container).show(),e(".limited-msg",i.container).hide()},i.repeaterTemplate=_.memoize(function(){var t,a={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(i){return void 0===window.repeater_item_tpl&&(window.repeater_item_tpl=e("#repeatable-js-item-tpl").html()),(t=_.template(window.repeater_item_tpl,null,a))(i)}}),i.template=i.repeaterTemplate(),i.intItem=function(t){i.rename(),i.conditionize(t),i.colorPicker(t),i.linkPicker(t),i.handleMedia(t),i.handleGradient(t),i.handleBackground(t),e('[data-live-id="section_id"]',t).each(function(){e(this).closest(".repeatable-customize-control").addClass("section-"+e(this).val()),"map"===e(this).val()&&t.addClass("show-display-field-only")}),"shopwell_section_order_styling"===i.id&&("click"!==t.find("input.add_by").val()?(t.addClass("no-changeable"),e(".item-editor textarea",t).remove()):(t.find(".item-title").removeClass("item-hidden "),t.find('.item-title input[type="hidden"]').attr("type","text"),t.find(".item-section_id").removeClass("item-hidden "),t.find('.item-section_id input[type="hidden"]').attr("type","text"))),e(".item-editor textarea",t).each(function(){i.editor(e(this))}),e("body").trigger("repeater-control-init-item",[t])},e(".list-repeatable",i.container).sortable({handle:".widget-title",containment:i.container,update:function(t,e){i.rename(),i.updateValue()}}),a=e.extend(!0,{},i.params.fields),e.each(t,function(n,r){if(r=t[n])for(var o in r)a.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(a[o].value=r[o]);var l=e(i.template(a));e(".list-repeatable",i.container).append(l),i.intItem(l),i.actions(l)}),i.container.on("click",".add-new-repeat-item",function(){var t=e(i.template(n));e(".list-repeatable",i.container).append(t),""!==i.params.id_key&&t.find(".item-"+i.params.id_key).find("input").val("sid"+new Date().getTime()),t.find("input.add_by").val("click"),i.intItem(t),i.actions(t),i.updateValue(),i._check_max_item()}),e(".list-repeatable",i.container).on("keyup change color_change","input, select, textarea",function(t){i.updateValue()}),i._check_max_item()}})}(wp.customize,jQuery),jQuery(document).ready(function(t){window.editing_icon=!1;var e=t('<div class="c-icon-picker"><div class="c-icon-type-wrap"><select class="c-icon-type"></select></div><div class="c-icon-search"><input class="" type="text"></div><div class="c-icon-list"></div></div>'),a="",i="";t.each(Shopwell_Icon_Picker.fonts,function(e,n){n=t.extend({},{url:"",name:"",prefix:"",icons:""},n),t("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet"}).attr("id","customizer-icon-"+e).attr("href",n.url),a+='<option value="'+e+'">'+n.name+"</option>";var r=n.icons.split("|");i+='<div class="ic-icons-group" style="display: none;" data-group-name="'+e+'">',t.each(r,function(t,e){n.prefix&&(e=n.prefix+" "+e),i+='<span title="'+e+'" data-name="'+e+'"><i class="'+e+'"></i></span>'}),i+="</div>"}),e.find(".c-icon-search input").attr("placeholder",Shopwell_Icon_Picker.search),e.find(".c-icon-type").html(a),e.find(".c-icon-list").append(i),t(".wp-full-overlay").append(e),t("body").on("change","select.c-icon-type",function(){var a=t(this).val();e.find(".ic-icons-group").hide(),e.find('.ic-icons-group[data-group-name="'+a+'"]').show()}),e.find("select.c-icon-type").trigger("change"),t("body").on("keyup",".c-icon-search input",function(){var e=t(this).val();if(""==e)t(".c-icon-list span").show();else{t(".c-icon-list span").hide();try{t('.c-icon-list span[data-name*="'+e+'"]').show()}catch(a){}}}),t("body").on("click",".icon-wrapper",function(a){a.preventDefault();var i=t(this);window.editing_icon=i,e.addClass("ic-active"),t("body").find(".icon-wrapper").removeClass("icon-editing"),i.addClass("icon-editing")}),t("body").on("click",".item-icon .remove-icon",function(e){e.preventDefault();var a=t(this).closest(".item-icon");a.find(".icon-wrapper input").val(""),a.find(".icon-wrapper input").trigger("change"),a.find(".icon-wrapper i").attr("class",""),t("body").find(".icon-wrapper").removeClass("icon-editing")}),t("body").on("click",".c-icon-list span",function(a){a.preventDefault();var i=t(this).attr("data-name")||"";window.editing_icon&&(window.editing_icon.find("i").attr("class","").addClass(t(this).find("i").attr("class")),window.editing_icon.find("input").val(i).trigger("change")),e.removeClass("ic-active"),window.editing_icon=!1,t("body").find(".icon-wrapper").removeClass("icon-editing")}),t(document).mouseup(function(t){!window.editing_icon||window.editing_icon.is(t.target)||0!==window.editing_icon.has(t.target).length||e.is(t.target)||0!==e.has(t.target).length||e.removeClass("ic-active")})});
